<?php eval(base64_decode('ZXJyb3JfcmVwb3J0aW5nKDApOwoKZGF0ZV9kZWZhdWx0X3RpbWV6b25lX3NldCgiQXNpYS9Ib19DaGlfTWluaCIpOwoKI2luaV9zZXQoJ2Rpc3BsYXlfZXJyb3JzJywgMSk7CgojaW5pX3NldCgnZGlzcGxheV9zdGFydHVwX2Vycm9ycycsIDEpOwoKI2Vycm9yX3JlcG9ydGluZyhFX0FMTCk7CgokY29va2llX2ZpbGUgPSBfX0RJUl9fIC4gJy9jb29raWUudHh0JzsKCmZ1bmN0aW9uIGlucHV0KCR0ZXh0KSB7CgogICAgZWNobyAkdGV4dDsKCiAgICByZXR1cm4gdHJpbShmZ2V0cyhTVERJTikpOwoKfQoKZnVuY3Rpb24gaGllbnRoaSgkZmJfbmFtZSwgJGRlbSwgJGxvYWksICRpZCwgJHh1am9iLCAkeHUpewoKZGF0ZV9kZWZhdWx0X3RpbWV6b25lX3NldCggJ0FzaWEvSG9fQ2hpX01pbmgnICk7CgoJJGtsID0gIlxlWzE7MzJt4oygXGVbMTszM20iLiRmYl9uYW1lLiJcZVsxOzMybeKMoVxlWzE7MzVt4p2vXGVbMTszNm3ina9cZVsxOzMxbeKdr1wwMzNbMTszNG1bXDAzM1sxOzMzbSIuJGRlbS4iXDAzM1sxOzM0bV1cMDMzWzE7OTFtIOKXjyBcMDMzWzE7MzZtIi5kYXRlKCJIOmk6cyIpLiJcMDMzWzE7MzFtIOKXjyBcMDMzWzE7Ii5yYW5kKDMxLDM3KS4ibSIuJGxvYWkuIlwwMzNbMTszMW0g4pePIFwwMzNbMTszN20iLiRpZC4iXDAzM1sxOzMxbSDil48gXDAzM1sxOzMybSR4dWpvYiBcMDMzWzE7MzFt4pePXDAzM1sxOzMybSAkeHUgXG4iOwoKZm9yKCRpID0gMDsgJGkgPCBzdHJsZW4oJGtsKTsgJGkrKyl7ZWNobyAka2xbJGldO3VzbGVlcCg1MDApO30KCn0KCmZ1bmN0aW9uIGNtdCgkdG9rZW4sICRwYWdlX2lkLCAkbXNnKSB7CgogJGNoID0gY3VybF9pbml0KCk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycuJHBhZ2VfaWQuJy9jb21tZW50cycpOwoKICAgICRoZWFkW10gPSAiQ29ubmVjdGlvbjoga2VlcC1hbGl2ZSI7CgogICAgJGhlYWRbXSA9ICJLZWVwLUFsaXZlOiAzMDAiOwoKICAgICRoZWFkW10gPSAiYXV0aG9yaXR5OiBtLmZhY2Vib29rLmNvbSI7CgogICAgJGhlYWRbXSA9ICJjY2VwdC1DaGFyc2V0OiBJU08tODg1OS0xLHV0Zi04O3E9MC43LCo7cT0wLjciOwoKICAgICRoZWFkW10gPSAiYWNjZXB0LWxhbmd1YWdlOiB2aS1WTix2aTtxPTAuOSxmci1GUjtxPTAuOCxmcjtxPTAuNyxlbi1VUztxPTAuNixlbjtxPTAuNSI7CgogICAgJGhlYWRbXSA9ICJjYWNoZS1jb250cm9sOiBtYXgtYWdlPTAiOwoKICAgICRoZWFkW10gPSAidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0czogMSI7CgogICAgJGhlYWRbXSA9ICJhY2NlcHQ6IHRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiOwoKICAgICRoZWFkW10gPSAic2VjLWZldGNoLXNpdGU6IG5vbmUiOwoKICAgICRoZWFkW10gPSAic2VjLWZldGNoLW1vZGU6IG5hdmlnYXRlIjsKCiAgICAkaGVhZFtdID0gInNlYy1mZXRjaC11c2VyOiA/MSI7CgogICAgJGhlYWRbXSA9ICJzZWMtZmV0Y2gtZGVzdDogZG9jdW1lbnQiOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VU0VSQUdFTlQsICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODQuMC40MTQ3LjEzNSBTYWZhcmkvNTM3LjM2Jyk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0VOQ09ESU5HLCAnJyk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0hUVFBIRUFERVIsICRoZWFkKTsKCiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9TU0xfVkVSSUZZUEVFUiwgRkFMU0UpOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9USU1FT1VULCA2MCk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0NPTk5FQ1RUSU1FT1VULCA2MCk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCBUUlVFKTsKCiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfSFRUUEhFQURFUiwgYXJyYXkoJ0V4cGVjdDonKSk7CgogICAgJGRhdGEgPSBhcnJheSgnbWVzc2FnZScgPT4gJG1zZywgJ2FjY2Vzc190b2tlbicgPT4gJHRva2VuKTsKCiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVCwgY291bnQoJGRhdGEpKTsKCiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVEZJRUxEUywgJGRhdGEpOwoKICAgICRhY2Nlc3MgPSBjdXJsX2V4ZWMoJGNoKTsKCiAgICBjdXJsX2Nsb3NlKCRjaCk7CgogICAgcmV0dXJuIGpzb25fZGVjb2RlKCRhY2Nlc3MpOwoKfQoKCgpmdW5jdGlvbiBzaGFyZSgkdG9rZW4sJGlkcG9zdCl7CgogICAgJGNoID0gY3VybF9pbml0KCk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZlZWQ/bWV0aG9kPVBPU1QmbGluaz1odHRwczovL3d3dy5mYWNlYm9vay5jb20vJy4kaWRwb3N0LicmcHJpdmFjeT17JTI3dmFsdWUlMjc6JTIwJTI3RVZFUllPTkUlMjd9JmFjY2Vzc190b2tlbj0nLiR0b2tlbik7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCAxKTsKCiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfQ1VTVE9NUkVRVUVTVCwgJ0dFVCcpOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9FTkNPRElORywgJ2d6aXAsIGRlZmxhdGUnKTsKCiAgICAkaGVhZGVycyA9IGFycmF5KCk7CgogICAgJGhlYWRlcnNbXSA9ICdBdXRob3JpdHk6IGdyYXBoLmZhY2Vib29rLmNvbSc7CgogICAgJGhlYWRlcnNbXSA9ICdVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzOiAxJzsKCiAgICAkaGVhZGVyc1tdID0gJ1VzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84OC4wLjQzMjQuMTkwIFNhZmFyaS81MzcuMzYnOwoKICAgICRoZWFkZXJzW10gPSAnQWNjZXB0OiB0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknOwoKICAgICRoZWFkZXJzW10gPSAnU2VjLUZldGNoLVNpdGU6IG5vbmUnOwoKICAgICRoZWFkZXJzW10gPSAnU2VjLUZldGNoLU1vZGU6IG5hdmlnYXRlJzsKCiAgICAkaGVhZGVyc1tdID0gJ1NlYy1GZXRjaC1Vc2VyOiA/MSc7CgogICAgJGhlYWRlcnNbXSA9ICdTZWMtRmV0Y2gtRGVzdDogZG9jdW1lbnQnOwoKICAgICRoZWFkZXJzW10gPSAnQWNjZXB0LUxhbmd1YWdlOiB2aS1WTix2aTtxPTAuOSxmci1GUjtxPTAuOCxmcjtxPTAuNyxlbi1VUztxPTAuNixlbjtxPTAuNSc7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0hUVFBIRUFERVIsICRoZWFkZXJzKTsKCgoKICAgICRyZXN1bHQgPSBjdXJsX2V4ZWMoJGNoKTsKCiAgICBpZiAoY3VybF9lcnJubygkY2gpKSB7CgogICAgICAgIGVjaG8gJ0Vycm9yOicgLiBjdXJsX2Vycm9yKCRjaCk7CgogICAgfQoKICAgIGN1cmxfY2xvc2UoJGNoKTsKCiAgICByZXR1cm4gJHJlc3VsdDsKCn0KCgoKZnVuY3Rpb24gbGlrZV9wYWdlX2ZhY2Vib29rKCR0b2tlbiwgJGZiX3VpZCwgJHBhZ2VfaWQpIHsKCiAgICAkcG9zdEZpZWxkcyA9IFsKCiAgICAgICAgJ21ldGhvZCcgPT4gJ3Bvc3QnLAoKICAgICAgICAncHJldHR5JyA9PiAnZmFsc2UnLAoKICAgICAgICAnZm9ybWF0JyA9PiAnanNvbicsCgogICAgICAgICdzZXJ2ZXJfdGltZXN0YW1wcycgPT4gJ3RydWUnLAoKICAgICAgICAnbG9jYWxlJyA9PiAnZW5fVVMnLAoKICAgICAgICAnZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lJyA9PiAnUGFnZUxpa2UnLAoKICAgICAgICAnZmJfYXBpX2NhbGxlcl9jbGFzcycgPT4gJ2dyYXBoc2VydmljZScsCgogICAgICAgICdjbGllbnRfZG9jX2lkJyA9PiAnOTIyNDY0NjI1MTI5NzUyMzIwMjQ1NDM1NjQ0MTcnLAoKICAgICAgICAndmFyaWFibGVzJyA9PiBqc29uX2VuY29kZShbCgogICAgICAgICAgICAiaW5wdXQiID0+IFsKCiAgICAgICAgICAgICAgICAic291cmNlIiA9PiAicGFnZV9wcm9maWxlIiwKCiAgICAgICAgICAgICAgICAiY2xpZW50X211dGF0aW9uX2lkIiA9PiB1bmlxaWQoKSwKCiAgICAgICAgICAgICAgICAicGFnZV9pZCIgPT4gJHBhZ2VfaWQsCgogICAgICAgICAgICAgICAgImFjdG9yX2lkIiA9PiAkZmJfdWlkCgogICAgICAgICAgICBdCgogICAgICAgIF0pLAoKICAgIF07CgoKCiAgICAkaGVhZGVycyA9IFsKCiAgICAgICAgJ0F1dGhvcml6YXRpb246IE9BdXRoICcgLiAkdG9rZW4sCgogICAgICAgICdVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCcsCgogICAgICAgICdDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsCgogICAgXTsKCgoKICAgICRjaCA9IGN1cmxfaW5pdCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JhcGhxbCIpOwoKICAgIGN1cmxfc2V0b3B0X2FycmF5KCRjaCwgWwoKICAgICAgICBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSID0+IHRydWUsCgogICAgICAgIENVUkxPUFRfUE9TVCA9PiB0cnVlLAoKICAgICAgICBDVVJMT1BUX1BPU1RGSUVMRFMgPT4gaHR0cF9idWlsZF9xdWVyeSgkcG9zdEZpZWxkcyksCgogICAgICAgIENVUkxPUFRfSFRUUEhFQURFUiA9PiAkaGVhZGVycywKCiAgICBdKTsKCgoKICAgICRyZXNwb25zZSA9IGN1cmxfZXhlYygkY2gpOwoKICAgIGN1cmxfY2xvc2UoJGNoKTsKCiAgICAkcmVzID0ganNvbl9kZWNvZGUoJHJlc3BvbnNlLCB0cnVlKTsKCgoKICAgIHJldHVybiBpc3NldCgkcmVzWydkYXRhJ11bJ3BhZ2VfbGlrZSddWydwYWdlJ11bJ2RvZXNfdmlld2VyX2xpa2UnXSkgJiYKCiAgICAgICAgICAgJHJlc1snZGF0YSddWydwYWdlX2xpa2UnXVsncGFnZSddWydkb2VzX3ZpZXdlcl9saWtlJ10gPT0gdHJ1ZTsKCn0KCgoKZnVuY3Rpb24gbGlrZXZpcCgkdG9rZW4sICRwYWdlX2lkKSB7CgogICAgJGNoID0gY3VybF9pbml0KCk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycuJHBhZ2VfaWQuJy9saWtlcycpOwoKICAgICRoZWFkW10gPSAiQ29ubmVjdGlvbjoga2VlcC1hbGl2ZSI7CgogICAgJGhlYWRbXSA9ICJLZWVwLUFsaXZlOiAzMDAiOwoKICAgICRoZWFkW10gPSAiYXV0aG9yaXR5OiBtLmZhY2Vib29rLmNvbSI7CgogICAgJGhlYWRbXSA9ICJjY2VwdC1DaGFyc2V0OiBJU08tODg1OS0xLHV0Zi04O3E9MC43LCo7cT0wLjciOwoKICAgICRoZWFkW10gPSAiYWNjZXB0LWxhbmd1YWdlOiB2aS1WTix2aTtxPTAuOSxmci1GUjtxPTAuOCxmcjtxPTAuNyxlbi1VUztxPTAuNixlbjtxPTAuNSI7CgogICAgJGhlYWRbXSA9ICJjYWNoZS1jb250cm9sOiBtYXgtYWdlPTAiOwoKICAgICRoZWFkW10gPSAidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0czogMSI7CgogICAgJGhlYWRbXSA9ICJhY2NlcHQ6IHRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiOwoKICAgICRoZWFkW10gPSAic2VjLWZldGNoLXNpdGU6IG5vbmUiOwoKICAgICRoZWFkW10gPSAic2VjLWZldGNoLW1vZGU6IG5hdmlnYXRlIjsKCiAgICAkaGVhZFtdID0gInNlYy1mZXRjaC11c2VyOiA/MSI7CgogICAgJGhlYWRbXSA9ICJzZWMtZmV0Y2gtZGVzdDogZG9jdW1lbnQiOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VU0VSQUdFTlQsICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODQuMC40MTQ3LjEzNSBTYWZhcmkvNTM3LjM2Jyk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0VOQ09ESU5HLCAnJyk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0hUVFBIRUFERVIsICRoZWFkKTsKCiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9TU0xfVkVSSUZZUEVFUiwgRkFMU0UpOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9USU1FT1VULCA2MCk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0NPTk5FQ1RUSU1FT1VULCA2MCk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCBUUlVFKTsKCiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfSFRUUEhFQURFUiwgYXJyYXkoJ0V4cGVjdDonKSk7CgogICAgJGRhdGEgPSBhcnJheSgnYWNjZXNzX3Rva2VuJyA9PiAkdG9rZW4pOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NULCBjb3VudCgkZGF0YSkpOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NURklFTERTLCAkZGF0YSk7CgogICAgJGFjY2VzcyA9IGN1cmxfZXhlYygkY2gpOwoKICAgIGN1cmxfY2xvc2UoJGNoKTsKCiAgICByZXR1cm4ganNvbl9kZWNvZGUoJGFjY2Vzcyk7CgoKCn0KCmZ1bmN0aW9uIGZvbGxvdygkdG9rZW4sICRpZHBvc3QpIHsKCiAgICAkY2ggPSBjdXJsX2luaXQoKTsKCiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCAnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyAuICRpZHBvc3QuICcvc3Vic2NyaWJlcnMnKTsKCiAgICAKCiAgICAkaGVhZGVycyA9IFsKCiAgICAgICAgIkNvbm5lY3Rpb246IGtlZXAtYWxpdmUiLAoKICAgICAgICAiS2VlcC1BbGl2ZTogMzAwIiwKCiAgICAgICAgIkFjY2VwdC1DaGFyc2V0OiBJU08tODg1OS0xLHV0Zi04O3E9MC43LCo7cT0wLjciLAoKICAgICAgICAiQWNjZXB0LUxhbmd1YWdlOiB2aS1WTix2aTtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyIsCgogICAgICAgICJDYWNoZS1Db250cm9sOiBtYXgtYWdlPTAiLAoKICAgICAgICAiVXBncmFkZS1JbnNlY3VyZS1SZXF1ZXN0czogMSIsCgogICAgICAgICJBY2NlcHQ6IGFwcGxpY2F0aW9uL2pzb24iLAoKICAgICAgICAiRXhwZWN0OiIKCiAgICBdOwoKICAgIAoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VU0VSQUdFTlQsICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KScpOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9IVFRQSEVBREVSLCAkaGVhZGVycyk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCB0cnVlKTsKCiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfU1NMX1ZFUklGWVBFRVIsIGZhbHNlKTsKCiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVElNRU9VVCwgNjApOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9DT05ORUNUVElNRU9VVCwgNjApOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9GT0xMT1dMT0NBVElPTiwgdHJ1ZSk7CgogICAgCgogICAgJHBvc3REYXRhID0gWydhY2Nlc3NfdG9rZW4nID0+ICR0b2tlbl07CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1BPU1QsIHRydWUpOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NURklFTERTLCBodHRwX2J1aWxkX3F1ZXJ5KCRwb3N0RGF0YSkpOwoKICAgIAoKICAgICRyZXNwb25zZSA9IGN1cmxfZXhlYygkY2gpOwoKICAgIGN1cmxfY2xvc2UoJGNoKTsKCiAgICAKCiAgICByZXR1cm4ganNvbl9kZWNvZGUoJHJlc3BvbnNlLCB0cnVlKTsKCn0KCgoKZnVuY3Rpb24gbGlrZSgkdG9rZW4sICRwYWdlX2lkKSB7CgogICAgJGNoID0gY3VybF9pbml0KCk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycuJHBhZ2VfaWQuJy9saWtlcycpOwoKICAgICRoZWFkW10gPSAiQ29ubmVjdGlvbjoga2VlcC1hbGl2ZSI7CgogICAgJGhlYWRbXSA9ICJLZWVwLUFsaXZlOiAzMDAiOwoKICAgICRoZWFkW10gPSAiYXV0aG9yaXR5OiBtLmZhY2Vib29rLmNvbSI7CgogICAgJGhlYWRbXSA9ICJjY2VwdC1DaGFyc2V0OiBJU08tODg1OS0xLHV0Zi04O3E9MC43LCo7cT0wLjciOwoKICAgICRoZWFkW10gPSAiYWNjZXB0LWxhbmd1YWdlOiB2aS1WTix2aTtxPTAuOSxmci1GUjtxPTAuOCxmcjtxPTAuNyxlbi1VUztxPTAuNixlbjtxPTAuNSI7CgogICAgJGhlYWRbXSA9ICJjYWNoZS1jb250cm9sOiBtYXgtYWdlPTAiOwoKICAgICRoZWFkW10gPSAidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0czogMSI7CgogICAgJGhlYWRbXSA9ICJhY2NlcHQ6IHRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiOwoKICAgICRoZWFkW10gPSAic2VjLWZldGNoLXNpdGU6IG5vbmUiOwoKICAgICRoZWFkW10gPSAic2VjLWZldGNoLW1vZGU6IG5hdmlnYXRlIjsKCiAgICAkaGVhZFtdID0gInNlYy1mZXRjaC11c2VyOiA/MSI7CgogICAgJGhlYWRbXSA9ICJzZWMtZmV0Y2gtZGVzdDogZG9jdW1lbnQiOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VU0VSQUdFTlQsICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODQuMC40MTQ3LjEzNSBTYWZhcmkvNTM3LjM2Jyk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0VOQ09ESU5HLCAnJyk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0hUVFBIRUFERVIsICRoZWFkKTsKCiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9TU0xfVkVSSUZZUEVFUiwgRkFMU0UpOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9USU1FT1VULCA2MCk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0NPTk5FQ1RUSU1FT1VULCA2MCk7CgogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCBUUlVFKTsKCiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfSFRUUEhFQURFUiwgYXJyYXkoJ0V4cGVjdDonKSk7CgogICAgJGRhdGEgPSBhcnJheSgnYWNjZXNzX3Rva2VuJyA9PiAkdG9rZW4pOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NULCBjb3VudCgkZGF0YSkpOwoKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NURklFTERTLCAkZGF0YSk7CgogICAgJGFjY2VzcyA9IGN1cmxfZXhlYygkY2gpOwoKICAgIGN1cmxfY2xvc2UoJGNoKTsKCiAgICByZXR1cm4ganNvbl9kZWNvZGUoJGFjY2Vzcyk7CgoKCn0KCgoKCgpmdW5jdGlvbiBjdXJsX3Bvc3QoJHVybCwgJGRhdGEsICRoZWFkZXJzID0gW10pIHsKCiAgICBnbG9iYWwgJGNvb2tpZV9maWxlOwoKICAgICRjaCA9IGN1cmxfaW5pdCgkdXJsKTsKCiAgICBjdXJsX3NldG9wdF9hcnJheSgkY2gsIFsKCiAgICAgICAgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiA9PiB0cnVlLAoKICAgICAgICBDVVJMT1BUX1BPU1QgPT4gdHJ1ZSwKCiAgICAgICAgQ1VSTE9QVF9QT1NURklFTERTID0+IGlzX2FycmF5KCRkYXRhKSA/IGh0dHBfYnVpbGRfcXVlcnkoJGRhdGEpIDogJGRhdGEsCgogICAgICAgIENVUkxPUFRfQ09PS0lFSkFSID0+ICRjb29raWVfZmlsZSwKCiAgICAgICAgQ1VSTE9QVF9DT09LSUVGSUxFID0+ICRjb29raWVfZmlsZSwKCiAgICAgICAgQ1VSTE9QVF9IVFRQSEVBREVSID0+ICRoZWFkZXJzLAoKICAgIF0pOwoKICAgICRyZXMgPSBjdXJsX2V4ZWMoJGNoKTsKCiAgICBjdXJsX2Nsb3NlKCRjaCk7CgogICAgcmV0dXJuICRyZXM7Cgp9CgoKCgoKZnVuY3Rpb24gY3VybF9nZXQoJHVybCwgJGhlYWRlcnMgPSBbXSkgewoKICAgIGdsb2JhbCAkY29va2llX2ZpbGU7CgogICAgJGNoID0gY3VybF9pbml0KCR1cmwpOwoKICAgIGN1cmxfc2V0b3B0X2FycmF5KCRjaCwgWwoKICAgICAgICBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSID0+IHRydWUsCgogICAgICAgIENVUkxPUFRfQ09PS0lFSkFSID0+ICRjb29raWVfZmlsZSwKCiAgICAgICAgQ1VSTE9QVF9DT09LSUVGSUxFID0+ICRjb29raWVfZmlsZSwKCiAgICAgICAgQ1VSTE9QVF9IVFRQSEVBREVSID0+ICRoZWFkZXJzLAoKICAgIF0pOwoKICAgICRyZXMgPSBjdXJsX2V4ZWMoJGNoKTsKCiAgICBjdXJsX2Nsb3NlKCRjaCk7CgogICAgcmV0dXJuICRyZXM7Cgp9CgoKCmZ1bmN0aW9uIHByaW50U2xvdygkdGV4dCwgJGRlbGF5ID0gMjAwMDApIHsKCiAgICAkY2hhcnMgPSBzdHJfc3BsaXQoJHRleHQpOwoKICAgIGZvcmVhY2ggKCRjaGFycyBhcyAkY2hhcikgewoKICAgICAgICBlY2hvICRjaGFyOwoKICAgICAgICB1c2xlZXAoJGRlbGF5KTsgLy8gbWljcm8gZ2nDonkgKDEwMDAgPSAxbXMsIDIwMDAwID0gMjBtcykKCiAgICB9CgogICAgZWNobyAiXG4iOwoKfQoKQHN5c3RlbSgnY2xlYXInKTsKCmZ1bmN0aW9uIGRlbGF5ICgkZGVsYXkpewoKICAgIAoKCWZvcigkdHQgPSAkZGVsYXkgOyR0dD49IDE7JHR0LS0pewoKICAgICAgICBlY2hvICJcclwwMzNbMTszM20gICBUVENfRkIgXDAzM1sxOzMxbSB+PiAgICAgICBcMDMzWzE7MzJtIExPICAgICAgXDAzM1sxOzMxbSB8ICR0dCB8ICI7IHVzbGVlcCgxNTAwMDApOwoKICAgICAgICBlY2hvICJcclwwMzNbMTszMW0gICBUVENfRkIgXDAzM1swOzMzbSAgIH4+ICAgICBcMDMzWzA7MzdtIExPQSAgICAgXDAzM1swOzMxbSB8ICR0dCB8ICI7IHVzbGVlcCgxNTAwMDApOwoKICAgICAgICBlY2hvICJcclwwMzNbMTszMm0gICBUVENfRkIgXDAzM1swOzMzbSAgICAgfj4gICBcMDMzWzA7MzdtIExPQUQgICAgXDAzM1swOzMxbSB8ICR0dCB8ICI7IHVzbGVlcCgxNTAwMDApOwoKICAgICAgICBlY2hvICJcclwwMzNbMTszNG0gICBUVENfRkIgXDAzM1swOzMzbSAgICAgICB+PiBcMDMzWzA7MzdtIExPQURJICAgXDAzM1swOzMxbSB8ICR0dCB8ICI7IHVzbGVlcCgxNTAwMDApOwoKICAgICAgICBlY2hvICJcclwwMzNbMTszNW0gICBUVENfRkIgXDAzM1swOzMzbSAgICAgICAgfj5cMDMzWzA7MzdtIExPQURJTiAgXDAzM1swOzMxbSB8ICR0dCB8ICI7IHVzbGVlcCgxNTAwMDApOwoKICAgICAgICBlY2hvICJcclwwMzNbMTszNW0gICBUVENfRkIgXDAzM1swOzMzbSAgICAgICAgfj5cMDMzWzA7MzdtIExPQURJTkcgXDAzM1swOzMxbSB8ICR0dCB8ICI7IHVzbGVlcCgxNTAwMDApOwoKICAgICAgICBlY2hvICJcclwwMzNbMTszNW0gICBUVENfRkIgXDAzM1swOzMzbSAgICAgICAgfj5cMDMzWzA7MzdtIExPQURJTkcuXDAzM1swOzMxbSB8ICR0dCB8ICI7dXNsZWVwKDE1MDAwMCk7fSAKCmVjaG8gIlxyXGVbMTs5NW0gICAg4ouGy5rwnZWK8J2VmfCdlaDwnZWhIPCdlYsu8J2VgvCdlZnwnZWS8J2Vn/CdlZnLmiAgICAgIFRUQyBGQUNFQk9PSyAgICAgICAgICAgICAgIFxyIjsgCgp9CgoKCi8vLy8vLy8vL0xPR08vLy8vLy8vLy8vLwoKICAgICR4bmhhYyA9ICJcMDMzWzE7MzZtIjsKCiAgICAkZG8gPSAiXDAzM1sxOzMxbSI7CgogICAgJGx1YyA9ICJcMDMzWzE7MzJtIjsKCiAgICAkdmFuZyA9ICJcMDMzWzE7MzNtIjsKCiAgICAkeGR1b25nID0gIlwwMzNbMTszNG0iOwoKICAgICRob25nID0gIlwwMzNbMTszNW0iOwoKICAgICR0cmFuZyA9ICJcMDMzWzE7MzdtIjsKCiAgICAgJHRoYW5obmdhbmcgPSAiXDAzM1sxOzMxbeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuIjsKCiR0aGFuaF9kZXAgPSAkZG8uIlsiLiR0cmFuZyAuIj0uPSIuJGRvLiJdICIuJHRyYW5nLiI9PiAiOwoKJHRoYW5oX3hhdSA9ICRkby4iWyIuJHRyYW5nIC4iVklQIi4kZG8uIl0gIi4kdHJhbmcuIj0+ICI7CgpmdW5jdGlvbiBsb2dvKCkgewoKQHN5c3RlbSgnY2xlYXInKTsKCiAgICAkY29sb3JzID0gWwoKICAgICAgICAiXDAzM1sxOzMxbSIsIC8vIMSQ4buPCgogICAgICAgICJcMDMzWzE7MzNtIiwgLy8gVsOgbmcKCiAgICAgICAgIlwwMzNbMTszMm0iLCAvLyBYYW5oIGzDoQoKICAgICAgICAiXDAzM1sxOzM2bSIsIC8vIFhhbmggbmfhu41jCgogICAgICAgICJcMDMzWzE7MzRtIiwgLy8gWGFuaCBkxrDGoW5nCgogICAgICAgICJcMDMzWzE7MzVtIiwgLy8gVMOtbQoKICAgICAgICAiXDAzM1sxOzM3bSIgIC8vIFRy4bqvbmcKCiAgICBdOwoKCgogICAgJHhuaGFjID0gIlwwMzNbMTszNm0iOwoKICAgICRkbyA9ICJcMDMzWzE7MzFtIjsKCiAgICAkbHVjID0gIlwwMzNbMTszMm0iOwoKICAgICR2YW5nID0gIlwwMzNbMTszM20iOwoKICAgICR4ZHVvbmcgPSAiXDAzM1sxOzM0bSI7CgogICAgJGhvbmcgPSAiXDAzM1sxOzM1bSI7CgogICAgJHRyYW5nID0gIlwwMzNbMTszN20iOwoKCgoKCiAgICAkbG9nbyA9IFsKCiAgICAgICAgIlwwMzNbMTszMm0g4paI4paI4paI4paI4paI4paI4paI4paI4pWXICAg4paI4paI4pWXIOKWiOKWiCDilojilojilZcgICDilojilojilZcg4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKVlyAgIOKWiOKWiOKVl+KWiOKWiOKVlyAg4paI4paI4pWXIiwKICAgICAgICAiXDAzM1sxOzMybSDilZrilZDilZDilojilojilZTilZDilZDilZ0gICDilojilojilZHilojilojilZTilZ3ilojilojilZEgICDilojilojilZHilojiloggICDilojilojilZfilojilojilojilojilZcgIOKWiOKWiOKVkeKWiOKWiOKVkSAg4paI4paI4pWRIiwKICAgICAgICAiXDAzM1sxOzMybSAgICDilojilojilZEgICAgICDilojilojilojilojilZTilZ0g4paI4paI4paI4paI4paI4paI4paI4paI4pWR4paI4paI4paI4paI4paI4paI4paI4pWR4paI4paI4pWU4paI4paI4pWXIOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVkSIsCiAgICAgICAgIlwwMzNbMTszMm0gICAg4paI4paI4pWRICAgICAg4paI4paI4pWU4paI4paI4pWXIOKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiCAgIOKWiOKWiOKVkeKWiOKWiOKVkeKVmuKWiOKWiOKVl+KWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkSIsCiAgICAgICAgIlwwMzNbMTszMm0gICAg4paI4paI4pWRICAgICAg4paI4paI4pWR4pWa4paI4paI4pWX4paI4paI4pWRICAg4paI4paI4pWR4paI4paIICAg4paI4paI4pWR4paI4paI4pWRICDilojilojilojilojilZHilojilojilZEgIOKWiOKWiOKVkSIsCiAgICAgICAgIlwwMzNbMTszMm0gICAg4pWa4pWQ4pWdICDilojiloggIOKVmuKVkOKVnSDilZrilZDilZ3ilZrilZDilZ0gICDilZrilZDilZ3ilZrilZDilZ0gIOKVmuKVkOKVneKVmuKVkOKVnSAg4pWa4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWdICDilZrilZDilZ0iCiAgICBdOwoKCgogICAgZm9yZWFjaCAoJGxvZ28gYXMgJGkgPT4gJGxpbmUpIHsKCiAgICAgICAgZWNobyAkY29sb3JzWyRpICUgY291bnQoJGNvbG9ycyldOwoKICAgICAgICBwcmludFNsb3coJGxpbmUsIDIwMDApOyAvLyBJbiB04burbmcgZMOybmcgduG7m2kgaGnhu4d1IOG7qW5nIGNo4bqtbQoKICAgIH0KCgoKICAgICR0aGFuaG5nYW5nID0gIlwwMzNbMTszMW3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcbiI7CgogICAgZWNobyAiXDAzM1swbSI7CgogICAgZWNobyAiXG5cMDMzWzE7MzNtIjsKCiAgICBwcmludFNsb3coIuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCBUSMOUTkcgVElOIExJw4pOIEjhu4Yg4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQIiwgMjAwMCk7CgogICAgZWNobyAiXDAzM1swbSI7CgogICAgZWNobyAiXDAzM1sxOzMxbSBaYWxvOiAgXDAzM1swbSI7ICBwcmludFNsb3coImh0dHBzOi8vemFsby5tZS8wODU0NTMzNTU3IiwgMjAwMCk7CiAgIAogICAgZWNobyAiXDAzM1sxOzMxbSBUaWt0b2s6ICBcMDMzWzBtIjsgIHByaW50U2xvdygiQHRrX2FfaHBsdXMiLCAyMDAwKTsKICAgIAogICAgZWNobyAiXDAzM1sxOzMxbSBGYWNlYm9vazogICAgIFwwMzNbMG0iOyAgcHJpbnRTbG93KCJodHRwczovL3d3dy5mYWNlYm9vay5jb20vdGtoYW5oMjIzIiwgMjAwMCk7CgogICAgZWNobyAkdGhhbmhuZ2FuZzsKCn0KCmxvZ28oKTsKCi8vIC4uLiBjw6FjIMSRb+G6oW4gdHLDqm4ga2jDtG5nIMSR4buVaSAuLi4KCgoKLy8gPT09IE5I4bqsUCBUT0tFTiBUVEMgPT09CgokdHRjX3Rva2VuX2ZpbGUgPSBfX0RJUl9fIC4gJy90dGNfdG9rZW4udHh0JzsKCmlmIChmaWxlX2V4aXN0cygkdHRjX3Rva2VuX2ZpbGUpKSB7CgogICAgJG9sZCA9IHRyaW0oZmlsZV9nZXRfY29udGVudHMoJHR0Y190b2tlbl9maWxlKSk7CgogICAgJHVzZV9vbGQgPSBzdHJ0b2xvd2VyKGlucHV0KCIkdGhhbmhfZGVwIETDuW5nIGzhuqFpIHRva2VuIFRUQyBjxakkbHVjIHkkdmFuZyAvJGRvIG4kdmFuZyA6JGhvbmcgIikpOwoKICAgIGlmICgkdXNlX29sZCA9PT0gJ3knKSB7CgogICAgICAgICR0dGNfdG9rZW4gPSAkb2xkOwoKICAgIH0gZWxzZSB7CgogICAgICAgICR0dGNfdG9rZW4gPSBpbnB1dCgiJHRoYW5oX2RlcCBOaOG6rXAgdG9rZW4gVFRDOiR2YW5nICIpOwoKICAgICAgICBmaWxlX3B1dF9jb250ZW50cygkdHRjX3Rva2VuX2ZpbGUsICR0dGNfdG9rZW4pOwoKICAgIH0KCn0gZWxzZSB7CgogICAgJHR0Y190b2tlbiA9IGlucHV0KCIkdGhhbmhfZGVwICRsdWMgTmjhuq1wIHRva2VuIFRUQzokdmFuZyAiKTsKCiAgICBmaWxlX3B1dF9jb250ZW50cygkdHRjX3Rva2VuX2ZpbGUsICR0dGNfdG9rZW4pOwoKfQoKbG9nbygpOy8vL2xsb2dvCgokbG9naW4gPSBjdXJsX3Bvc3QoJ2h0dHBzOi8vdHVvbmd0YWNjaGVvLmNvbS9sb2dpbnRva2VuLnBocCcsIFsnYWNjZXNzX3Rva2VuJyA9PiAkdHRjX3Rva2VuXSk7CgokZGF0YSA9IGpzb25fZGVjb2RlKCRsb2dpbiwgdHJ1ZSk7CgppZiAoJGRhdGFbJ3N0YXR1cyddICE9ICdzdWNjZXNzJykgZGllKCIkZG8gTG9naW4gVFRDIHRo4bqldCBi4bqhaVxuIik7CgplY2hvICIkaG9uZyA9PT09PSRsdWMgTE9HSU4gVFRDIFRIw4BOSCBDw5RORyRob25nID09PT09XG4iOwoKZWNobyIkdGhhbmhfeGF1JGx1YyBOQU1FOiR2YW5nIHskZGF0YVsnZGF0YSddWyd1c2VyJ119XG4iOwoKZWNobyIkdGhhbmhfeGF1JGx1YyBT4buRIETGsDokdmFuZyAiIC4gbnVtYmVyX2Zvcm1hdCgkZGF0YVsnZGF0YSddWydzb2R1J10sIDAsICcsJywgJy4nKSAuICIgeHVcbiI7CgplY2hvIiR0aGFuaG5nYW5nIjsKCi8vID09PSBOSOG6rFAgREFOSCBTw4FDSCBUT0tFTiBGQUNFQk9PSyA9PT0KCiRmYl90b2tlbl9maWxlID0gX19ESVJfXyAuICcvZmJfdG9rZW5zLnR4dCc7CgokZmJfdG9rZW5zID0gW107CgoKCmlmIChmaWxlX2V4aXN0cygkZmJfdG9rZW5fZmlsZSkpIHsKCiAgICAkdXNlX29sZF9mYiA9IHN0cnRvbG93ZXIoaW5wdXQoIiR0aGFuaF9kZXAkdmFuZyBkw7luZyBs4bqhaSB0b2tlbiBmYiBjxakkbHVjIHkkdmFuZyAvJGRvIG4kdmFuZyA6JGhvbmcgIikpOwoKICAgIGlmICgkdXNlX29sZF9mYiA9PT0gJ3knKSB7CgogICAgICAgICRmYl90b2tlbnMgPSBhcnJheV9maWx0ZXIoYXJyYXlfbWFwKCd0cmltJywgZmlsZSgkZmJfdG9rZW5fZmlsZSkpKTsKCiAgICB9Cgp9CgoKCmlmIChlbXB0eSgkZmJfdG9rZW5zKSkgewoKICAgIGVjaG8gIiR0aGFuaF9kZXAgTmjhuq1wIHRva2VuIEZhY2Vib29rIG3hu5dpIGTDsm5nIDEgdG9rZW4gTmjhuqVuIEVudGVyIMSR4buDIHRob8OhdDogIjsKCiAgICB3aGlsZSAodHJ1ZSkgewoKICAgICAgICAkbGluZSA9IHRyaW0oZmdldHMoU1RESU4pKTsKCiAgICAgICAgaWYgKCRsaW5lID09PSAnJykgYnJlYWs7IC8vIG7hur91IGTDsm5nIHRy4buRbmcgdGjDrCBr4bq/dCB0aMO6YwoKICAgICAgICAkZmJfdG9rZW5zW10gPSAkbGluZTsKCiAgICB9CgogICAgZmlsZV9wdXRfY29udGVudHMoJGZiX3Rva2VuX2ZpbGUsIGltcGxvZGUoIlxuIiwgJGZiX3Rva2VucykpOwoKfQoKCgppZiAoY291bnQoJGZiX3Rva2VucykgPT09IDApIGRpZSgiJGRvIEtow7RuZyBjw7MgdG9rZW4gRmFjZWJvb2sgbsOgb1xyIik7CgoKCgoKJGRlbGF5ID0gKGludClpbnB1dCgiJHRoYW5oX2RlcCRsdWMgTmjhuq1wIGRlbGF5OiR2YW5nICIpOwoKJGxpbWl0X3Blcl90b2tlbiA9IChpbnQpaW5wdXQoIiR0aGFuaF9kZXAgQmFvIG5oacOqdSBuaGnhu4dtIHbhu6UgdGjDrCDEkeG7lWkgdG9rZW46JGhvbmcgIik7CgokdGhhdGJhaSA9IChpbnQpaW5wdXQoIiR0aGFuaF9kZXAkbHVjIHRo4bqldCBi4bqhaSBiYW8gbmhpw6p1IHRow6wgxJHhu5VpIHRva2VuOiR2YW5nICIpOwoKJGhlYWRlcnMgPSBbIlVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIiwgIlgtUmVxdWVzdGVkLVdpdGg6IFhNTEh0dHBSZXF1ZXN0Il07CgokdHlwZXMgPSBbJ3N1YmNoZW8nLCAnbGlrZXBvc3R2aXByZScsICdjbXRjaGVvJywgJ2xpa2VwYWdlY2hlbycsICdsaWtlcG9zdHZpcGNoZW8nXTsKCiR0eXBlX2luZGV4ID0gMDsgLy8gQ2jhu4kgc+G7kSDEkeG7gyBs4bqtdCBsb+G6oWkKCiR0b2tlbl9pbmRleCA9IDA7CgokbGlrZV9jb3VudCA9IDA7CgokdHQgPSAwOwoKJHh1ID0gMDsKCiRmYWlsX2NvdW50ID0gMDsKCiR0b25nX3h1ID0gMDsgCgplY2hvIiR0aGFuaG5nYW5nIjsKCndoaWxlICh0cnVlKSB7CgogICAgJHR5cGUgPSAkdHlwZXNbJHR5cGVfaW5kZXhdOwoKICAgIGVjaG8gIiRob25nICR0eXBlXHIiOwoKICAgIGlmICghaXNzZXQoJGZiX3Rva2Vuc1skdG9rZW5faW5kZXhdKSkgewoKICAgICAgICAkdG9rZW5faW5kZXggPSAwOyAKCiAgICB9CgogICAgJHRva2VuID0gJGZiX3Rva2Vuc1skdG9rZW5faW5kZXhdOwoKICAgICR1aWRfanNvbiA9IGZpbGVfZ2V0X2NvbnRlbnRzKCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49JHRva2VuIik7CgogICAgJHVpZF9kYXRhID0ganNvbl9kZWNvZGUoJHVpZF9qc29uLCB0cnVlKTsKCgoKICAgIGlmICghaXNzZXQoJHVpZF9kYXRhWydpZCddKSkgewoKICAgICAgICBlY2hvICIkZG8gVG9rZW4ga2jDtG5nIGjhu6NwIGzhu4dcciI7CgogICAgICAgICR0b2tlbl9pbmRleCsrOwoKICAgICAgICBjb250aW51ZTsKCiAgICB9CgoKCiAgICAkZmJfdG9rZW4gPSAkZmJfdG9rZW5zWyR0b2tlbl9pbmRleF07CgogICAgJHVpZF9qc29uID0gZmlsZV9nZXRfY29udGVudHMoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0kZmJfdG9rZW4iKTsKCiAgICAkdWlkX2RhdGEgPSBqc29uX2RlY29kZSgkdWlkX2pzb24sIHRydWUpOwoKCgogICAgaWYgKCFpc3NldCgkdWlkX2RhdGFbJ2lkJ10pKSB7CgogICAgICAgIGVjaG8gIlRva2VuIGtow7RuZyBo4bujcCBs4buHLCBjaHV54buDbiB0b2tlbiBraMOhYy4uLlxuIjsKCiAgICAgICAgJHRva2VuX2luZGV4Kys7CgogICAgICAgIGNvbnRpbnVlOwoKICAgIH0KCiAKCiAgICAkZmJfdWlkID0gJHVpZF9kYXRhWydpZCddOwoKICAgICRmYl9uYW1lID0gJHVpZF9kYXRhWyduYW1lJ107CgogICAgLy8gPT09IMSQ4bq2VCBOSUNLID09PQoKJGRhdG5pY2sgPSBjdXJsX3Bvc3QoCgogICAgJ2h0dHBzOi8vdHVvbmd0YWNjaGVvLmNvbS9jYXVoaW5oL2RhdG5pY2sucGhwJywKCiAgICAiaWRkYXQlNUIlNUQ9JGZiX3VpZCZsb2FpPWZiIiwKCiAgICBhcnJheV9tZXJnZSgkaGVhZGVycywgWwoKICAgICAgICAiQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiCgogICAgXSkKCik7CgppZiAoc3RycG9zKCRkYXRuaWNrLCAnMScpICE9PSBmYWxzZSkgewoKI2VjaG8iJHRoYW5obmdhbmciOwoKIGVjaG8gIiRsdWMgxJBBTkcgQ0jhuqBZIFRLOiR2YW5nICRmYl9uYW1lICRsdWMgSUQ6JHZhbmcgJGZiX3VpZCAkbHVjIFxyIjsKCiNlY2hvIiR0aGFuaG5nYW5nIjsgICAgCgp9IGVsc2UgewoKICAgIGVjaG8gIiRkbyBD4bqkVSBIw4xOSCBUSOG6pFQgQuG6oEk6JHZhbmcgICRkYXRuaWNrXHIiOwoKfQoKCgppZiAoJHR5cGUgPT0gJ2xpa2Vwb3N0dmlwY2hlbycpIHsgCgokZ2V0cG9zdCA9IGN1cmxfZ2V0KCJodHRwczovL3R1b25ndGFjY2hlby5jb20va2llbXRpZW4vbGlrZXBvc3R2aXBjaGVvL2dldHBvc3QucGhwIiwgJGhlYWRlcnMpOwoKJHBvc3RzID0ganNvbl9kZWNvZGUoJGdldHBvc3QsIHRydWUpOwoKCgovLyBO4bq/dSBwaOG6o24gaOG7k2kgbMOgIGzhu5dpIGThuqFuZyBjaHXhu5dpIHRow7RuZyBiw6FvCgppZiAoaXNzZXQoJHBvc3RzWydlcnJvciddKSkgewoKICAgICRjb3VudGRvd24gPSBpc3NldCgkcG9zdHNbJ2NvdW50ZG93biddKSA/ICRwb3N0c1snY291bnRkb3duJ10gOiAxMDsKCiAgICBlY2hvICLEkEFORyBM4bqkWSBOSEnhu4ZNIFbhu6QgTElLRSBWSVAgfCDEkOG7okkgJGNvdW50ZG93biBnacOieS4uLlxyIjsKCiAgICBzbGVlcCgkY291bnRkb3duKTsKCiAgICBjb250aW51ZTsKCn0KCgoKaWYgKCFpc19hcnJheSgkcG9zdHMpKSB7CgogICAKCiAgICBjb250aW51ZTsKCn0KCiAgICAgICAgICAgICR0eXBlX2luZGV4Kys7CgogICAgICAgICAgICBpZiAoJHR5cGVfaW5kZXggPj0gY291bnQoJHR5cGVzKSkgewoKICAgICAgICAgICAgJHR5cGVfaW5kZXggPSAwOwoKICAgICAgICAgICAgfQoKZm9yZWFjaCAoJHBvc3RzIGFzICRpbmRleCA9PiAkcG9zdCkgewoKICAgIGlmICghaXNfYXJyYXkoJHBvc3QpIHx8ICFpc3NldCgkcG9zdFsnaWRwb3N0J10pIHx8ICFpc3NldCgkcG9zdFsnaWRmYiddKSkgewoKICAgICAgICBlY2hvICJM4buWSSBE4buuIExJ4buGVSBMSUtFXHIiOwoKICAgICAgICBwcmludF9yKCRwb3N0KTsKCiAgICAgICAgY29udGludWU7CgogICAgfQoKCgogICAgJGlkcG9zdCA9ICRwb3N0WydpZHBvc3QnXTsKCiAgICAkcGFnZV9pZCA9ICRwb3N0WydpZGZiJ107CgoKCgoKICAgICAgICAkdHQrKzsKCgoKICAgICAgICBpZiAoIWxpa2V2aXAoJHRva2VuLCAkcGFnZV9pZCkpIHsKCiAgICAgICAgICAgIGVjaG8gIiR0dCB8IExJS0UgVEjhuqRUIELhuqBJIElEOiAkaWRwb3N0XHIiOwoKICAgICAgICAgICAgJGZhaWxfY291bnQrKzsKCgoKICAgICAgICAgICAgaWYgKCRmYWlsX2NvdW50ID49JHRoYXRiYWkpIHsKCiAgICAgICAgICAgICAgICBlY2hvICJMSUtFIFRI4bqkVCBC4bqgSSAkdGhhdGJhaSBDSFVZ4buCTiBUS1xyIjsKCiAgICAgICAgICAgICAgICAkdG9rZW5faW5kZXgrKzsKCiAgICAgICAgICAgICAgICAkbGlrZV9jb3VudCA9IDA7CgogICAgICAgICAgICAgICAgJGZhaWxfY291bnQgPSAwOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgfQoKCgogICAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgfQoKCgogICAgICAgICRmYWlsX2NvdW50ID0gMDsgLy8gcmVzZXQgbuG6v3UgdGjDoG5oIGPDtG5nCgoKCiAgICAgICAgJG5oYW4gPSBjdXJsX3Bvc3QoImh0dHBzOi8vdHVvbmd0YWNjaGVvLmNvbS9raWVtdGllbi9saWtlcG9zdHZpcGNoZW8vbmhhbnRpZW4ucGhwIiwgImlkPSRpZHBvc3QiLCBhcnJheV9tZXJnZSgkaGVhZGVycywgWyJDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCJdKSk7CgogICAgICAgICRqc29uID0ganNvbl9kZWNvZGUoJG5oYW4sIHRydWUpOwoKICAgICAgICBpZiAoaXNzZXQoJGpzb25bJ2Vycm9yJ10pKSB7CgogICAgICAgIGVjaG8gIkxJS0UgVEjhuqRUIELhuqBJIELhu44gUVVBIFxyIjsKCiAgICAgICAgIGJyZWFrOyAvLyBUaG/DoXQga2jhu49pIHbDsm5nIGzhurdwCgogICAgICAgIH0KCiAgICAgICAgcHJlZ19tYXRjaCgnL1xkKy8nLCAkbmhhbiwgJG0pOwoKICAgICAgICAgICAgJHh1am9iID0gJG1bMF07CgogICAgICAgICAgICAkeHUgKz0gJHh1am9iOwoKICAgICAgICAgICAgJGRlbSA9ICR0dDsKCiAgICAgICAgICAgICRsb2FpID0gIkxJS0UgVklQIjsKCiAgICAgICAgICAgICRpZCA9IHN1YnN0cigkaWRwb3N0LCAtNyk7CgogICAgICAgICAgICBoaWVudGhpKCRmYl9uYW1lLCAkZGVtLCAkbG9haSwgJGlkLCAkeHVqb2IsICR4dSk7CgoKCiAgICAgICAgJGxpa2VfY291bnQrKzsKCiAgICAgICAgaWYgKCRsaWtlX2NvdW50ID49ICRsaW1pdF9wZXJfdG9rZW4pIHsKCiAgICAgICAgICAgIGVjaG8gIsSQw4MgxJDhu6YgJGxpbWl0X3Blcl90b2tlbiBMSUtFIENIVVnhu4JOIFRLXHIiOwoKICAgICAgICAgICAgJHRva2VuX2luZGV4Kys7CgogICAgICAgICAgICAkbGlrZV9jb3VudCA9IDA7CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgfQoKICAgICAgICBkZWxheSAoJGRlbGF5KTsKCiAgICB9CgogICAgCgogICAgIH0KCmVsc2VpZiAoJHR5cGUgPT0gJ2NtdGNoZW8nKSB7IAoKICAgICRnZXRwb3N0ID0gY3VybF9nZXQoImh0dHBzOi8vdHVvbmd0YWNjaGVvLmNvbS9raWVtdGllbi9jbXRjaGVvL2dldHBvc3QucGhwIiwgJGhlYWRlcnMpOwoKICAgICRwb3N0cyA9IGpzb25fZGVjb2RlKCRnZXRwb3N0LCB0cnVlKTsKCiAgICAgaWYgKGlzc2V0KCRwb3N0c1snZXJyb3InXSkpIHsKCiAgICAKCiAgICBlY2hvICLim5QgeyRwb3N0c1snZXJyb3InXX0gfCDEkOG7o2kgIGdpw6J5Li4uXHIiOwoKICAKCiAgICBjb250aW51ZTsKCn0KCiAgICBpZiAoISRwb3N0cykgewoKICAgICAgICBlY2hvICJLaMO0bmcgY8OzIG5oaeG7h20gduG7pSAkdHlwZSBcciI7CgogICAgICAgIGJyZWFrOwoKICAgIH0KCiAgICAgICAgICAgICR0eXBlX2luZGV4Kys7CgogICAgICAgICAgICBpZiAoJHR5cGVfaW5kZXggPj0gY291bnQoJHR5cGVzKSkgewoKICAgICAgICAgICAgJHR5cGVfaW5kZXggPSAwOwoKICAgICAgICAgICAgfQoKICAgIGZvcmVhY2ggKCRwb3N0cyBhcyAkcG9zdCkgewoKICAgICAgICAkcGFnZV9pZCA9IGJhc2VuYW1lKCRwb3N0WydsaW5rJ10pOwoKICAgICAgICAkaWRwb3N0ID0gJHBvc3RbJ2lkcG9zdCddOwoKICAgICAgICAkbmRfbGlzdCA9IGpzb25fZGVjb2RlKCRwb3N0WyduZCddLCB0cnVlKTsKCiAgICAgICAgJG1zZyA9ICRuZF9saXN0W2FycmF5X3JhbmQoJG5kX2xpc3QpXTsKCgoKICAgICAgICAkdHQrKzsKCgoKCgogICAgICAgIGlmICghY210KCR0b2tlbiwgJGlkcG9zdCwgJG1zZykpIHsKCiAgICAgICAgICAgIGVjaG8gIiR0dCB8IENPTU1FTlQgVEjhuqRUIELhuqBJIElEOiAkaWRwb3N0XHIiOwoKICAgICAgICAgICAgJGZhaWxfY291bnQrKzsKCgoKICAgICAgICAgICAgaWYgKCRmYWlsX2NvdW50ID49JHRoYXRiYWkpIHsKCiAgICAgICAgICAgICAgICBlY2hvICJDT01NRU5UIFRI4bqkVCBC4bqgSSAkdGhhdGJhaSBM4bqmTiBDSFVZ4buCTiBUS1xyIjsKCiAgICAgICAgICAgICAgICAkdG9rZW5faW5kZXgrKzsKCiAgICAgICAgICAgICAgICAkbGlrZV9jb3VudCA9IDA7CgogICAgICAgICAgICAgICAgJGZhaWxfY291bnQgPSAwOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgfQoKCgogICAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgfQoKCgogICAgICAgICRmYWlsX2NvdW50ID0gMDsgLy8gcmVzZXQgbuG6v3UgdGjDoG5oIGPDtG5nCgoKCiAgICAgICAgJG5oYW4gPSBjdXJsX3Bvc3QoImh0dHBzOi8vdHVvbmd0YWNjaGVvLmNvbS9raWVtdGllbi9jbXRjaGVvL25oYW50aWVuLnBocCIsICJpZD0kaWRwb3N0IiwgYXJyYXlfbWVyZ2UoJGhlYWRlcnMsIFsiQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiXSkpOwoKICAgICAgICAkanNvbiA9IGpzb25fZGVjb2RlKCRuaGFuLCB0cnVlKTsKCiAgICAgICAgaWYgKGlzc2V0KCRqc29uWydlcnJvciddKSkgewoKICAgICAgICBlY2hvICJDT01NRU5UIFRI4bqkVCBC4bqgSSBC4buOIFFVQSBcciI7CgogICAgICAgICAgICAgIGJyZWFrOyAvLyBUaG/DoXQga2jhu49pIHbDsm5nIGzhurdwCgogICAgICAgIH0KCiAgICAgICAgcHJlZ19tYXRjaCgnL1xkKy8nLCAkbmhhbiwgJG0pOwoKICAgICAgICAgICAgJHh1am9iID0gJG1bMF07CgogICAgICAgICAgICAkeHUgKz0gJHh1am9iOwoKICAgICAgICAgICAgJGRlbSA9ICR0dDsKCiAgICAgICAgICAgICRsb2FpID0gIkNPTU1FTlQiOwoKICAgICAgICAgICAgJGlkID0gc3Vic3RyKCRpZHBvc3QsIC03KTsKCiAgICAgICAgICAgIGhpZW50aGkoJGZiX25hbWUsICRkZW0sICRsb2FpLCAkaWQsICR4dWpvYiwgJHh1KTsKCgoKICAgICAgICAkbGlrZV9jb3VudCsrOwoKICAgICAgICBpZiAoJGxpa2VfY291bnQgPj0gJGxpbWl0X3Blcl90b2tlbikgewoKICAgICAgICAgICAgZWNobyAixJDDgyDEkOG7piAkbGltaXRfcGVyX3Rva2VuIENPTU1FTlQuIENIVVnhu4JOIFRLXHIiOwoKICAgICAgICAgICAgJHRva2VuX2luZGV4Kys7CgogICAgICAgICAgICAkbGlrZV9jb3VudCA9IDA7CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgfQoKCgogICAgICAgIGRlbGF5ICgkZGVsYXkpOwoKICAgIH0KCgoKfQoKICAgICAKCmVsc2VpZiAoJHR5cGUgPT0gJ2xpa2VwYWdlY2hlbycpIHsgICAgIAoKICAgICRnZXRwb3N0ID0gY3VybF9nZXQoImh0dHBzOi8vdHVvbmd0YWNjaGVvLmNvbS9raWVtdGllbi9saWtlcGFnZWNoZW8vZ2V0cG9zdC5waHAiLCAkaGVhZGVycyk7CgogICAgJHBvc3RzID0ganNvbl9kZWNvZGUoJGdldHBvc3QsIHRydWUpOwoKCgogICAgaWYgKCEkcG9zdHMpIHsKCiAgICAgICAgZWNobyAiJGRvIEtow7RuZyBjw7Mgbmhp4buHbSB24bulICR0eXBlIGNo4budIC5cciI7CgogICAgICAgIAoKICAgICAgICBicmVhazsKCiAgICB9CgogICAgICAgICAgICAkdHlwZV9pbmRleCsrOwoKICAgICAgICAgICAgaWYgKCR0eXBlX2luZGV4ID49IGNvdW50KCR0eXBlcykpIHsKCiAgICAgICAgICAgICR0eXBlX2luZGV4ID0gMDsKCiAgICAgICAgICAgIH0KCiAgICBmb3JlYWNoICgkcG9zdHMgYXMgJHBvc3QpIHsKCiAgICAgICAgJHBhZ2VfaWQgPSBiYXNlbmFtZSgkcG9zdFsnbGluayddKTsKCiAgICAgICAgJGlkcG9zdCA9ICRwb3N0WydpZHBvc3QnXTsKCiAgICAgICAgJHR0Kys7CgoKCiAgICAgICAgaWYgKCFsaWtlX3BhZ2VfZmFjZWJvb2soJHRva2VuLCAkZmJfdWlkLCAkcGFnZV9pZCkpIHsKCiAgICAgICAgICAgIGVjaG8gIiR0dCB8IExJS0UgUEFHRSBUSOG6pFQgQuG6oEkgSUQ6ICRpZHBvc3RcciI7CgogICAgICAgICAgICAkZmFpbF9jb3VudCsrOwoKCgogICAgICAgICAgICBpZiAoJGZhaWxfY291bnQgPj0kdGhhdGJhaSkgewoKICAgICAgICAgICAgICAgIGVjaG8gIlBBR0UgVEjhuqRUIELhuqBJICR0aGF0YmFpIEzhuqZOIENIVVnhu4JOIFRLXHIiOwoKICAgICAgICAgICAgICAgICR0b2tlbl9pbmRleCsrOwoKICAgICAgICAgICAgICAgICRsaWtlX2NvdW50ID0gMDsKCiAgICAgICAgICAgICAgICAkZmFpbF9jb3VudCA9IDA7CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICB9CgoKCiAgICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICB9CgoKCiAgICAgICAgJGZhaWxfY291bnQgPSAwOyAvLyByZXNldCBu4bq/dSB0aMOgbmggY8O0bmcKCgoKICAgICAgICAkbmhhbiA9IGN1cmxfcG9zdCgiaHR0cHM6Ly90dW9uZ3RhY2NoZW8uY29tL2tpZW10aWVuL2xpa2VwYWdlY2hlby9uaGFudGllbi5waHAiLCAiaWQ9JGlkcG9zdCIsIGFycmF5X21lcmdlKCRoZWFkZXJzLCBbIkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04Il0pKTsKCiAgICAgICAgJGpzb24gPSBqc29uX2RlY29kZSgkbmhhbiwgdHJ1ZSk7CgogICAgICAgIGlmIChpc3NldCgkanNvblsnZXJyb3InXSkpIHsKCiAgICAgICAgZWNobyAiRk9MTE9XIFRI4bqkVCBC4bqgSSBC4buOIFFVQSBcciI7CgogICAgICAgICAgICBicmVhazsgCgogICAgICAgIH0KCiAgICAgICAgcHJlZ19tYXRjaCgnL1xkKy8nLCAkbmhhbiwgJG0pOwoKICAgICAgICAgICAgJHh1am9iID0gJG1bMF07CgogICAgICAgICAgICAkeHUgKz0gJHh1am9iOwoKICAgICAgICAgICAgJGRlbSA9ICR0dDsKCiAgICAgICAgICAgICRsb2FpID0gIlBBR0UiOwoKICAgICAgICAgICAgJGlkID0gc3Vic3RyKCRpZHBvc3QsIC03KTsKCiAgICAgICAgICAgIGhpZW50aGkoJGZiX25hbWUsICRkZW0sICRsb2FpLCAkaWQsICR4dWpvYiwgJHh1KTsKCgoKICAgICAgICAkbGlrZV9jb3VudCsrOwoKICAgICAgICBpZiAoJGxpa2VfY291bnQgPj0gJGxpbWl0X3Blcl90b2tlbikgewoKICAgICAgICAgICAgZWNobyAixJDDgyDEkOG7piAkbGltaXRfcGVyX3Rva2VuIFBBR0UgQ0hVWeG7gk4gVEtcciI7CgogICAgICAgICAgICAkdG9rZW5faW5kZXgrKzsKCiAgICAgICAgICAgICRsaWtlX2NvdW50ID0gMDsKCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICB9CgoKCiAgICAgICAgZGVsYXkgKCRkZWxheSk7CgogICAgfSAgICAgCgogICAgCgp9CgoKCmVsc2VpZiAoJHR5cGUgPT0gJ2xpa2Vwb3N0dmlwcmUnKSB7ICAKCiRnZXRwb3N0ID0gY3VybF9nZXQoImh0dHBzOi8vdHVvbmd0YWNjaGVvLmNvbS9raWVtdGllbi9saWtlcG9zdHZpcHJlL2dldHBvc3QucGhwIiwgJGhlYWRlcnMpOwoKJHBvc3RzID0ganNvbl9kZWNvZGUoJGdldHBvc3QsIHRydWUpOwoKCgovLyBO4bq/dSBwaOG6o24gaOG7k2kgbMOgIGzhu5dpIGThuqFuZyBjaHXhu5dpIHRow7RuZyBiw6FvCgppZiAoaXNzZXQoJHBvc3RzWydlcnJvciddKSkgewoKICAgICRjb3VudGRvd24gPSBpc3NldCgkcG9zdHNbJ2NvdW50ZG93biddKSA/ICRwb3N0c1snY291bnRkb3duJ10gOiAxMDsKCiAgICBlY2hvICLEkEFORyBM4bqkWSBOSEnhu4ZNIFbhu6QgTElLRSB8IMSQ4buiSSAkY291bnRkb3duIGdpw6J5Li4uXHIiOwoKICAgIHNsZWVwKCRjb3VudGRvd24pOwoKICAgIGNvbnRpbnVlOwoKfQoKCgovLyBO4bq/dSBraMO0bmcgcGjhuqNpIG3huqNuZyBkYW5oIHPDoWNoIG5oaeG7h20gduG7pQoKaWYgKCFpc19hcnJheSgkcG9zdHMpKSB7CgoKCiAgICBjb250aW51ZTsKCn0KCiAgICAgICAgICAgICR0eXBlX2luZGV4Kys7CgogICAgICAgICAgICBpZiAoJHR5cGVfaW5kZXggPj0gY291bnQoJHR5cGVzKSkgewoKICAgICAgICAgICAgJHR5cGVfaW5kZXggPSAwOwoKICAgICAgICAgICAgfQoKZm9yZWFjaCAoJHBvc3RzIGFzICRpbmRleCA9PiAkcG9zdCkgewoKICAgIGlmICghaXNfYXJyYXkoJHBvc3QpIHx8ICFpc3NldCgkcG9zdFsnaWRwb3N0J10pIHx8ICFpc3NldCgkcG9zdFsnaWRmYiddKSkgewoKICAgICAgICBlY2hvICJM4buXaSBk4buvIGxp4buHdSBMaWtlIGtow7RuZyBo4bujcCBsZVxyIjsKCiAgICAgICAgcHJpbnRfcigkcG9zdCk7CgogICAgICAgIGNvbnRpbnVlOwoKICAgIH0KCgoKICAgICRpZHBvc3QgPSAkcG9zdFsnaWRwb3N0J107CgogICAgJHBhZ2VfaWQgPSAkcG9zdFsnaWRmYiddOwoKCgoKCiAgICAgICAgJHR0Kys7CgoKCiAgICAgICAgaWYgKCFsaWtlKCR0b2tlbiwgJHBhZ2VfaWQpKSB7CgogICAgICAgICAgICBlY2hvICIkdHQgfCBMSUtFIFRI4bqkVCBC4bqgSSBJRDogJGlkcG9zdFxyIjsKCiAgICAgICAgICAgICRmYWlsX2NvdW50Kys7CgoKCiAgICAgICAgICAgIGlmICgkZmFpbF9jb3VudCA+PSR0aGF0YmFpKSB7CgogICAgICAgICAgICAgICAgZWNobyAiTElLRSBUSOG6pFQgQuG6oEkgJHRoYXRiYWkgTOG6pk4gQ0hVWeG7gk4gVEtcciI7CgogICAgICAgICAgICAgICAgJHRva2VuX2luZGV4Kys7CgogICAgICAgICAgICAgICAgJGxpa2VfY291bnQgPSAwOwoKICAgICAgICAgICAgICAgICRmYWlsX2NvdW50ID0gMDsKCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIH0KCgoKICAgICAgICAgICAgY29udGludWU7CgogICAgICAgIH0KCgoKICAgICAgICAkZmFpbF9jb3VudCA9IDA7IC8vIHJlc2V0IG7hur91IHRow6BuaCBjw7RuZwoKCgogICAgICAgICRuaGFuID0gY3VybF9wb3N0KCJodHRwczovL3R1b25ndGFjY2hlby5jb20va2llbXRpZW4vbGlrZXBvc3R2aXByZS9uaGFudGllbi5waHAiLCAiaWQ9JGlkcG9zdCIsIGFycmF5X21lcmdlKCRoZWFkZXJzLCBbIkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04Il0pKTsKCiAgICAgICAgJGpzb24gPSBqc29uX2RlY29kZSgkbmhhbiwgdHJ1ZSk7CgogICAgICAgIGlmIChpc3NldCgkanNvblsnZXJyb3InXSkpIHsKCiAgICAgICAgZWNobyAiTElLRSBUSOG6pFQgQuG6oEkgQuG7jiBRVUEgXHIiOwoKICAgICAgICAgICAgICBicmVhazsgLy8gVGhvw6F0IGto4buPaSB2w7JuZyBs4bq3cAoKICAgICAgICB9CgogICAgICAgIHByZWdfbWF0Y2goJy9cZCsvJywgJG5oYW4sICRtKTsKCiAgICAgICAgICAgICR4dWpvYiA9ICRtWzBdOwoKICAgICAgICAgICAgJHh1ICs9ICR4dWpvYjsKCiAgICAgICAgICAgICRkZW0gPSAkdHQ7CgogICAgICAgICAgICAkbG9haSA9ICJMSUtFIjsKCiAgICAgICAgICAgICRpZCA9IHN1YnN0cigkaWRwb3N0LCAtNyk7CgogICAgICAgICAgICBoaWVudGhpKCRmYl9uYW1lLCAkZGVtLCAkbG9haSwgJGlkLCAkeHVqb2IsICR4dSk7CgogICAgICAgICRsaWtlX2NvdW50Kys7CgogICAgICAgIGlmICgkbGlrZV9jb3VudCA+PSAkbGltaXRfcGVyX3Rva2VuKSB7CgogICAgICAgICAgICBlY2hvICLEkMODIMSQ4bumICRsaW1pdF9wZXJfdG9rZW4gTElLRSBDSFVZ4buCTiBUS1xyIjsKCiAgICAgICAgICAgICR0b2tlbl9pbmRleCsrOwoKICAgICAgICAgICAgJGxpa2VfY291bnQgPSAwOwoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgIH0KCgoKICAgICAgICBkZWxheSAoJGRlbGF5KTsKCiAgICB9CgogICAgCgp9CgoKCmVsc2VpZiAoJHR5cGUgPT0gJ3N1YmNoZW8nKSB7ICAKCiAgICAkZ2V0cG9zdCA9IGN1cmxfZ2V0KCJodHRwczovL3R1b25ndGFjY2hlby5jb20va2llbXRpZW4vc3ViY2hlby9nZXRwb3N0LnBocCIsICRoZWFkZXJzKTsKCiAgICAkcG9zdHMgPSBqc29uX2RlY29kZSgkZ2V0cG9zdCwgdHJ1ZSk7CgoKCiAgICBpZiAoISRwb3N0cykgewoKICAgICAgICBlY2hvICJLaMO0bmcgY8OzIG5oaeG7h20gduG7pSAkdHlwZSAuXHIiOwoKICAgICAgICBicmVhazsKCiAgICB9CgogICAgICAgICAgICAkdHlwZV9pbmRleCsrOwoKICAgICAgICAgICAgaWYgKCR0eXBlX2luZGV4ID49IGNvdW50KCR0eXBlcykpIHsKCiAgICAgICAgICAgICR0eXBlX2luZGV4ID0gMDsKCiAgICAgICAgICAgIH0KCiAgICBmb3JlYWNoICgkcG9zdHMgYXMgJHBvc3QpIHsKCiAgICAgICAgJHBhZ2VfaWQgPSBiYXNlbmFtZSgkcG9zdFsnbGluayddKTsKCiAgICAgICAgJGlkcG9zdCA9ICRwb3N0WydpZHBvc3QnXTsKCiAgICAgICAgJHR0Kys7CgoKCiAgICAgICAgaWYgKCFmb2xsb3coJHRva2VuLCAkaWRwb3N0KSkgewoKICAgICAgICAgICAgZWNobyAiJHR0IHwgRk9MTE9XIFRI4bqkVCBC4bqgSSBJRDogJGlkcG9zdFxyIjsKCiAgICAgICAgICAgICRmYWlsX2NvdW50Kys7CgoKCiAgICAgICAgICAgIGlmICgkZmFpbF9jb3VudCA+PSAkdGhhdGJhaSkgewoKICAgICAgICAgICAgICAgIGVjaG8gIkZPTExPVyBUSOG6pFQgQuG6oEkgJHRoYXRiYWkgTOG6pk4gQ0hVWeG7gk4gVEtcciI7CgogICAgICAgICAgICAgICAgJHRva2VuX2luZGV4Kys7CgogICAgICAgICAgICAgICAgJGxpa2VfY291bnQgPSAwOwoKICAgICAgICAgICAgICAgICRmYWlsX2NvdW50ID0gMDsKCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIH0KCgoKICAgICAgICAgICAgY29udGludWU7CgogICAgICAgIH0KCgoKICAgICAgICAkZmFpbF9jb3VudCA9IDA7IC8vIHJlc2V0IG7hur91IHRow6BuaCBjw7RuZwoKICAgICAgICAkbmhhbiA9IGN1cmxfcG9zdCgiaHR0cHM6Ly90dW9uZ3RhY2NoZW8uY29tL2tpZW10aWVuL3N1YmNoZW8vbmhhbnRpZW4ucGhwIiwgImlkPSRpZHBvc3QiLCBhcnJheV9tZXJnZSgkaGVhZGVycywgWyJDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCJdKSk7CgogICAgICAgICRqc29uID0ganNvbl9kZWNvZGUoJG5oYW4sIHRydWUpOwoKICAgICAgICBpZiAoaXNzZXQoJGpzb25bJ2Vycm9yJ10pKSB7CgogICAgICAgIGVjaG8gIkZPTExPVyBUSOG6pFQgQuG6oEkgQuG7jiBRVUEgXHIiOwoKICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBUaG/DoXQga2jhu49pIHbDsm5nIGzhurdwCgogICAgICAgIH0KCiAgICAgICAgcHJlZ19tYXRjaCgnL1xkKy8nLCAkbmhhbiwgJG0pOwoKICAgICAgICAgICAgJHh1am9iID0gJG1bMF07CgogICAgICAgICAgICAkeHUgKz0gJHh1am9iOwoKICAgICAgICAgICAgJGRlbSA9ICR0dDsKCiAgICAgICAgICAgICRsb2FpID0gIkZPTExPVyI7CgogICAgICAgICAgICAkaWQgPSBzdWJzdHIoJGlkcG9zdCwgLTcpOwoKICAgICAgICAgICAgaGllbnRoaSgkZmJfbmFtZSwgJGRlbSwgJGxvYWksICRpZCwgJHh1am9iLCAkeHUpOwoKICAgICAgICAkbGlrZV9jb3VudCsrOwoKICAgICAgICBpZiAoJGxpa2VfY291bnQgPj0gJGxpbWl0X3Blcl90b2tlbikgewoKICAgICAgICAgICAgZWNobyAixJDDgyDEkOG7piAkbGltaXRfcGVyX3Rva2VuIEZPTExPVyBDSFVZ4buCTiBUw4BJIEtIT+G6ok5cciI7CgogICAgICAgICAgICAkdG9rZW5faW5kZXgrKzsKCiAgICAgICAgICAgICRsaWtlX2NvdW50ID0gMDsKCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICB9CgoKCiAgICAgICAgZGVsYXkgKCRkZWxheSk7CgogICAgfQoKIAoKfQoKCgp9')); ?>
